<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Crossword</title>
    <style>
        /* RESET & BODY */
        * { box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif; }
        body { 
            margin: 0; 
            padding: 20px; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            background-color: #fff; 
            min-height: 100vh;
        }

        /* HEADER */
        h2 { margin: 0 0 5px 0; font-size: 1.8rem; text-align: center; }
        p { margin: 0 0 20px 0; color: #666; text-align: center; font-size: 1rem; }

        /* GAME CONTAINER */
        #game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            width: 100%;
            max-width: 800px;
        }

        /* GRID */
        #crossword-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr); /* 12 Cols for layout */
            gap: 2px;
            background-color: #000;
            padding: 2px;
            border: 2px solid #000;
        }

        .cell {
            width: 30px;
            height: 30px;
            background-color: #fff;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1rem;
            font-weight: bold;
            text-transform: uppercase;
            cursor: pointer;
            user-select: none;
        }

        .cell.black {
            background-color: #000;
            cursor: default;
            border: none;
        }

        .cell.selected { background-color: #a7d8ff; }
        .cell.related { background-color: #e8f5ff; }

        .cell .number {
            position: absolute;
            top: 1px;
            left: 2px;
            font-size: 0.5rem;
            font-weight: normal;
            color: #333;
        }

        .cell .letter { z-index: 1; }

        /* CLUES */
        #clues-container {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            width: 100%;
            margin-top: 10px;
            gap: 20px;
        }

        .clue-column {
            flex: 1;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
        }

        h3 { font-size: 1rem; margin-top: 0; border-bottom: 2px solid #ddd; padding-bottom: 5px; }

        .clue-item {
            font-size: 0.85rem;
            margin-bottom: 8px;
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
        }
        .clue-item:hover { background-color: #e9ecef; }
        .clue-item.active { background-color: #a7d8ff; font-weight: 600; }
        .clue-number { font-weight: 800; margin-right: 5px; }
        
        /* LINKS IN CLUES */
        .clue-item a {
            color: #007bff;
            text-decoration: none;
            border-bottom: 1px dotted #007bff;
        }
        .clue-item a:hover {
            text-decoration: underline;
        }

        /* WIN MODAL */
        #win-overlay {
            display: none;
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border: 3px solid #000;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            z-index: 100;
        }
        .btn {
            background: #000; color: #fff;
            padding: 10px 20px; text-decoration: none;
            border-radius: 6px; font-weight: bold;
            display: inline-block; margin-top: 15px;
        }

        @media (max-width: 600px) {
            #clues-container { flex-direction: column; }
            .cell { width: 26px; height: 26px; font-size: 0.9rem; }
        }
    </style>
</head>
<body>

    <h2>The "Max" Mini</h2>
    <p>Tap a clue or cell to start.</p>

    <div id="game-container">
        <div id="crossword-grid"></div>

        <div id="clues-container">
            <div class="clue-column">
                <h3>Across</h3>
                <div id="across-clues"></div>
            </div>
            <div class="clue-column">
                <h3>Down</h3>
                <div id="down-clues"></div>
            </div>
        </div>
    </div>

    <div id="win-overlay">
        <h2>Puzzle Solved! ðŸ§ </h2>
        <p>You know me too well.</p>
        <a href="#" onclick="location.reload()" class="btn">Play Again</a>
    </div>

    <script>
        // GRID LAYOUT
        const gridLayout = [
            ['T', 'E', 'N', 'N', 'I', 'S', '.', '.', '.', '.', '.', '.'],
            ['.', '.', '.', '.', '.', 'I', '.', '.', '.', '.', '.', '.'],
            ['.', '.', '.', '.', '.', 'M', '.', '.', '.', '.', '.', '.'],
            ['.', '.', '.', '.', '.', 'P', '.', 'H', 'O', 'T', 'E', 'L'],
            ['.', '.', '.', '.', '.', 'S', '.', '.', 'S', '.', '.', '.'],
            ['.', '.', '.', '.', '.', 'O', '.', '.', 'T', 'C', 'M', '.'],
            ['.', '.', 'C', 'O', 'R', 'N', 'E', 'L', 'L', '.', '.', '.'],
            ['.', '.', 'O', '.', '.', 'S', '.', '.', 'U', '.', '.', '.'],
            ['.', '.', 'N', '.', '.', '.', '.', '.', 'N', '.', '.', '.'],
            ['.', '.', 'D', '.', '.', '.', '.', '.', 'D', '.', '.', '.'],
            ['.', '.', 'E', 'N', 'R', 'O', 'N', '.', '.', '.', '.', '.']
        ];

        // WORD DATA (UPDATED)
        const words = [
            { number: 1, direction: 'across', row: 0, col: 0, answer: "TENNIS", clue: "My current favorite sport ðŸŽ¾" },
            { number: 1, direction: 'down', row: 0, col: 5, answer: "SIMPSONS", clue: "Favorite show's titular family" },
            { number: 2, direction: 'across', row: 3, col: 7, answer: "HOTEL", clue: "Dream: Create a murder mystery themed one" },
            { number: 3, direction: 'down', row: 3, col: 8, answer: "OSTLUND", clue: "My favorite director, Ruben _____ (Triangle of Sadness)" },
            { number: 4, direction: 'across', row: 5, col: 8, answer: "TCM", clue: "My fav TV channel <a href='https://www.siblingrivalry.com/studio/work/project/tcm' target='_blank'>(promos by Sibling Rivalry)</a>" },
            { number: 5, direction: 'across', row: 6, col: 2, answer: "CORNELL", clue: "My and Andy Bernardâ€™s alma mater" },
            { number: 5, direction: 'down', row: 6, col: 2, answer: "CONDE", clue: "First name of magazine publisher I sell ads for (Vogue, Architectural Digest, The New Yorker, etc.)" },
            { number: 6, direction: 'across', row: 10, col: 2, answer: "ENRON", clue: "____: <a href='
